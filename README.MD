Utility nodes for ComfyUI. Created solely for my own use case, shared as a courtesy only.

## ğŸ› ï¸ Installation

cd /path/to/ComfyUI/custom_nodes  
git clone https://github.com/heyburns/LinxUtil.git  
Restart ComfyUI and refresh the browser  

---

## âœ¨ Current Nodes

### 1) Multipurpose Configuration
A minimal utility node that exposes two *in-node* controls and emits their values as sockets:

- **Megapixels (FLOAT)** â€” set a target megapixel resolution value directly in the node (no external input required). Ideal for driving resizers that accept a `FLOAT` input.  
- **Mask Prompt (STRING)** â€” a multiline text field where you can type prompt text for masking/selection nodes that accept a `STRING`.

<p align="center">
  <img src="assets/multipurpose_configuration.png" alt="Multipurpose Configuration node" width="540">
</p>

### 2) ğŸ¨ Auto White-Balance + Color Match

Fast, reference-driven color normalization for ComfyUI. Applies auto white balance and (optionally) matches a source imageâ€™s look to a reference. Minimal controls, predictable results.

**Display name:** Auto White-Balance + Color Match  
**Category:** Image/Color

### Inputs
- **image (IMAGE)** â€” source to correct  
- **reference (IMAGE)** â€” target look (only used by match modes)

### Output
- **IMAGE** â€” corrected image (same size as input)

### Modes (pick one)
- **wb_grayworld** â€” neutralize cast by equalizing channel means.
- **wb_highlight** â€” white-patch WB using top luminance percentile.
- **reinhard_lab** â€” match Lab mean/std to reference (full color).
- **lab_l_only** â€” match lightness only (keeps source colors).
- **wb_highlight+reinhard** â€” highlight WB then Lab match (sane default).

### Controls (brief)
- **percentile (80â€“99.9)** â€” for `wb_highlight` modes; higher = brighter â€œwhite patch.â€
- **strength (0â€“1)** â€” blend amount; 1 = full effect.
- **clip_gamut (bool)** â€” clamp to sRGB after processing.
- **force_size (bool)** + **target_width/height** â€” compute stats at this size for speed; apply at full res.

### Notes
- If result feels strong, lower **strength** or switch to **lab_l_only**.  
- If highlights skew WB, lower **percentile** a bit (e.g., 92â€“95).
